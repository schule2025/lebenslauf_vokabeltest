
<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vokabeltrainer ¬∑ Lebenslauf (A1) ‚Äì mit √úbersetzungen</title>
<style>
  :root{
    --bg:#f6f7fb;--card:#ffffff;--ink:#0f172a;--muted:#6b7280;--line:#e5e7eb;
    --accent:#2563eb;--good:#16a34a;--bad:#dc2626;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 system-ui,Segoe UI,Roboto,Arial}
  .wrap{max-width:980px;margin:auto;padding:20px}
  header{display:flex;gap:12px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
  h1{margin:0;font-size:22px}
  .muted{color:var(--muted)}
  .tabs{display:flex;gap:6px;flex-wrap:wrap}
  .tab{border:1px solid var(--line);background:#fff;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700}
  .tab.active{background:var(--accent);border-color:var(--accent);color:#fff}
  .card{
    margin-top:12px;background:var(--card);border:1px solid var(--line);border-radius:16px;
    box-shadow:0 10px 30px rgba(0,0,0,.06);padding:16px
  }
  .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .grow{flex:1}
  .controls{display:flex;gap:8px;flex-wrap:wrap}
  button{border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:700}
  button.primary{background:var(--accent);border-color:var(--accent);color:#fff}
  input[type="text"]{width:100%;padding:10px 12px;border:2px solid var(--line);border-radius:10px;font-size:16px}
  .big{font-size:28px;font-weight:800}
  .hint{font-size:14px;color:var(--muted)}
  .list{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:10px;margin-top:8px}
  .item{border:1px dashed var(--line);background:#fff;border-radius:12px;padding:10px}
  .item b{display:block;margin-bottom:4px}
  .rtl{direction:rtl}
  .langbox{display:flex;flex-wrap:wrap;gap:8px}
  .langbox label{display:flex;gap:6px;align-items:center;border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:#fff}
  .split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media (max-width:760px){ .split{grid-template-columns:1fr} }
  .stat{font-weight:800}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>Vokabeltrainer ¬∑ Lebenslauf (A1)</h1>
      <div class="muted">Lernen ¬∑ Testen ¬∑ Phrasen ‚Äî optionaler Modus <b>Vokale fehlen</b> + √úbersetzungen</div>
      <div class="langbox" id="langBox" aria-label="Sprachen ein-/ausblenden">
        <label><input type="checkbox" data-lang="tr" checked> T√ºrkisch</label>
        <label><input type="checkbox" data-lang="ar" checked> ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</label>
        <label><input type="checkbox" data-lang="ru" checked> –†—É—Å—Å–∫–∏–π</label>
        <label><input type="checkbox" data-lang="uk" checked> –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</label>
        <label><input type="checkbox" data-lang="fa" checked> ŸÅÿßÿ±ÿ≥€å</label>
        <label><input type="checkbox" data-lang="fr" checked> Fran√ßais</label>
        <label><input type="checkbox" data-lang="en" checked> English</label>
      </div>
    </div>
    <div class="tabs" role="tablist">
      <button class="tab active" data-tab="learn">Lernen</button>
      <button class="tab" data-tab="test">Testen</button>
      <button class="tab" data-tab="phrases">Phrasen</button>
    </div>
  </header>

  <!-- Lernen -->
  <div class="card" id="panel-learn" role="tabpanel">
    <div class="row">
      <div class="grow">
        <div id="learnWord" class="big">‚Äî</div>
        <div id="learnInfo" class="hint" style="margin-top:2px">‚Äî</div>
        <div id="learnTrans" style="margin-top:8px"></div>
      </div>
      <div class="controls">
        <button id="prevL">‚óÄ Zur√ºck</button>
        <button id="nextL">Weiter ‚ñ∂</button>
      </div>
    </div>
    <div class="list" id="allList"></div>
  </div>

  <!-- Testen -->
  <div class="card" id="panel-test" role="tabpanel" hidden>
    <div class="split">
      <div>
        <div class="row">
          <div class="grow">
            <div class="hint">Begriff</div>
            <div id="testQuestion" class="big">‚Äî</div>
          </div>
          <div class="controls">
            <label class="hint"><input type="checkbox" id="missingVowels"> Vokale fehlen</label>
            <button id="tip">Tipp</button>
          </div>
        </div>
        <div id="testTrans" class="hint" style="margin-top:6px"></div>
        <div style="margin-top:10px">
          <input id="answer" type="text" placeholder="Antwort hier eingeben‚Ä¶" autocomplete="off" />
        </div>
        <div class="row" style="margin-top:10px">
          <div class="controls">
            <button id="check" class="primary">Pr√ºfen</button>
            <button id="skip">√úberspringen</button>
            <button id="nextT">N√§chste ‚ñ∂</button>
          </div>
          <div class="grow"></div>
          <div class="hint">Fortschritt: <span class="stat" id="okCnt">0</span> richtig ¬∑ <span class="stat" id="badCnt">0</span> falsch ¬∑ Streak: <span class="stat" id="streak">0</span></div>
        </div>
        <div id="feedback" class="hint" style="margin-top:8px"></div>
      </div>
      <div>
        <div class="row">
          <div class="grow hint">Einstellungen</div>
          <div class="controls">
            <button id="resetProgress">Fortschritt l√∂schen</button>
          </div>
        </div>
        <div class="item" style="margin-top:8px">
          <div class="hint">Hinweis</div>
          <div>Umlaute <b>√§/√∂/√º</b> kannst du als <b>ae/oe/ue</b> schreiben.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Phrasen -->
  <div class="card" id="panel-phrases" role="tabpanel" hidden>
    <div class="hint">Lies laut und erg√§nze deinen Namen/Datum usw.</div>
    <ul>
      <li>Ich hei√üe <i>Vorname Nachname</i>.</li>
      <li>Meine Adresse ist <i>Stra√üe Hausnummer, PLZ Ort</i>.</li>
      <li>Mein Geburtsdatum ist <i>TT.MM.JJJJ</i>.</li>
      <li>Ich habe ein Praktikum im <i>Kindergarten</i> gemacht.</li>
      <li>Ich spreche <i>Deutsch A1</i> und <i>Englisch A2</i>.</li>
      <li>Meine Hobbys sind <i>Fu√üball</i> und <i>Musik</i>.</li>
      <li>Ort, Datum, Unterschrift: <i>Berlin, 09.09.2025, [Unterschrift]</i>.</li>
    </ul>
  </div>
</div>

<script>
/* ======================
   Daten ¬∑ Lebenslauf A1
====================== */
const WORDS = [
  {key:"lebenslauf", de:"Lebenslauf", info:"Dokument f√ºr Bewerbung", tr:"√∂zge√ßmi≈ü", ar:"ÿßŸÑÿ≥Ÿäÿ±ÿ© ÿßŸÑÿ∞ÿßÿ™Ÿäÿ©", ru:"—Ä–µ–∑—é–º–µ", uk:"—Ä–µ–∑—é–º–µ", fa:"ÿ±ÿ≤ŸàŸÖŸá", fr:"CV (curriculum vitae)", en:"CV / resume"},
  {key:"persoenliche_daten", de:"Pers√∂nliche Daten", info:"Name, Adresse, Geburtsdatum ‚Ä¶", tr:"ki≈üisel bilgiler", ar:"ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿÆÿµŸäÿ©", ru:"–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ", uk:"–æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ", fa:"ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿ¥ÿÆÿµ€å", fr:"donn√©es personnelles", en:"personal data"},
  {key:"kontakt", de:"Kontakt", info:"Telefon, E-Mail", tr:"ileti≈üim", ar:"ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿßÿ™ÿµÿßŸÑ", ru:"–∫–æ–Ω—Ç–∞–∫—Ç—ã", uk:"–∫–æ–Ω—Ç–∞–∫—Ç–∏", fa:"ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿ™ŸÖÿßÿ≥", fr:"contact", en:"contact"},
  {key:"name", de:"Name", info:"Vorname und Nachname", tr:"ad soyad", ar:"ÿßŸÑÿßÿ≥ŸÖ", ru:"–∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è", uk:"—ñ–º‚Äô—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ", fa:"ŸÜÿßŸÖ Ÿà ŸÜÿßŸÖ ÿÆÿßŸÜŸàÿßÿØ⁄Ø€å", fr:"nom", en:"name"},
  {key:"adresse", de:"Adresse", info:"Stra√üe, Hausnummer, PLZ, Ort", tr:"adres", ar:"ÿßŸÑÿπŸÜŸàÿßŸÜ", ru:"–∞–¥—Ä–µ—Å", uk:"–∞–¥—Ä–µ—Å–∞", fa:"ŸÜÿ¥ÿßŸÜ€å", fr:"adresse", en:"address"},
  {key:"telefon", de:"Telefon", info:"z. B. 0176 123456789", tr:"telefon", ar:"ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ", ru:"—Ç–µ–ª–µ—Ñ–æ–Ω", uk:"—Ç–µ–ª–µ—Ñ–æ–Ω", fa:"ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÑŸÅŸÜ", fr:"t√©l√©phone", en:"phone number"},
  {key:"email", de:"E-Mail", info:"z. B. name@mail.de", tr:"e-posta", ar:"ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä", ru:"—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞", uk:"–µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞", fa:"ÿß€åŸÖ€åŸÑ", fr:"e-mail", en:"email"},
  {key:"geburtsdatum", de:"Geburtsdatum", info:"z. B. 01.01.2007", tr:"doƒüum tarihi", ar:"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸÖŸäŸÑÿßÿØ", ru:"–¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è", uk:"–¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è", fa:"ÿ™ÿßÿ±€åÿÆ ÿ™ŸàŸÑÿØ", fr:"date de naissance", en:"date of birth"},
  {key:"geburtsort", de:"Geburtsort", info:"Stadt, Land", tr:"doƒüum yeri", ar:"ŸÖŸÉÿßŸÜ ÿßŸÑŸÖŸäŸÑÿßÿØ", ru:"–º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è", uk:"–º—ñ—Å—Ü–µ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è", fa:"ŸÖÿ≠ŸÑ ÿ™ŸàŸÑÿØ", fr:"lieu de naissance", en:"place of birth"},
  {key:"sprachen", de:"Sprachen", info:"Deutsch A1, Englisch A2 ‚Ä¶", tr:"diller", ar:"ÿßŸÑŸÑÿ∫ÿßÿ™", ru:"—è–∑—ã–∫–∏", uk:"–º–æ–≤–∏", fa:"ÿ≤ÿ®ÿßŸÜ‚ÄåŸáÿß", fr:"langues", en:"languages"},
  {key:"schule", de:"Schule", info:"z. B. Gesamtschule Musterstadt", tr:"okul", ar:"ÿßŸÑŸÖÿØÿ±ÿ≥ÿ©", ru:"—à–∫–æ–ª–∞", uk:"—à–∫–æ–ª–∞", fa:"ŸÖÿØÿ±ÿ≥Ÿá", fr:"√©cole", en:"school"},
  {key:"abschluss", de:"Abschluss", info:"z. B. 2026 (voraussichtlich)", tr:"diploma / mezuniyet", ar:"ÿßŸÑÿ¥ŸáÿßÿØÿ©", ru:"–¥–∏–ø–ª–æ–º / –∞—Ç—Ç–µ—Å—Ç–∞—Ç", uk:"–¥–∏–ø–ª–æ–º", fa:"ŸÖÿØÿ±⁄© ÿ™ÿ≠ÿµ€åŸÑ€å", fr:"dipl√¥me", en:"degree / graduation"},
  {key:"ausbildung", de:"Ausbildung", info:"Berufsschule, schulische Ausbildung", tr:"mesleki eƒüitim", ar:"ÿßŸÑÿ™ÿØÿ±Ÿäÿ® ÿßŸÑŸÖŸáŸÜŸä", ru:"–ø—Ä–æ—Ñ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", uk:"–ø—Ä–æ—Ñ–æ—Å–≤—ñ—Ç–∞", fa:"ÿ¢ŸÖŸàÿ≤ÿ¥ ÿ≠ÿ±ŸÅŸá‚Äåÿß€å", fr:"formation", en:"training / education"},
  {key:"praktikum", de:"Praktikum", info:"z. B. Kindergarten (06/2024‚Äì07/2024)", tr:"staj", ar:"ÿ™ÿØÿ±Ÿäÿ® ÿπŸÖŸÑŸä", ru:"—Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∞", uk:"—Å—Ç–∞–∂—É–≤–∞–Ω–Ω—è", fa:"⁄©ÿßÿ±ÿ¢ŸÖŸàÿ≤€å", fr:"stage", en:"internship"},
  {key:"berufserfahrung", de:"Berufserfahrung", info:"z. B. Minijob im Supermarkt", tr:"i≈ü tecr√ºbesi", ar:"ÿßŸÑÿÆÿ®ÿ±ÿ© ÿßŸÑÿπŸÖŸÑŸäÿ©", ru:"–æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã", uk:"–¥–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏", fa:"ÿ≥ÿßÿ®ŸÇŸá ⁄©ÿßÿ±€å", fr:"exp√©rience professionnelle", en:"work experience"},
  {key:"taetigkeiten", de:"T√§tigkeiten", info:"Aufgaben im Job/Praktikum", tr:"g√∂revler", ar:"ÿßŸÑŸÖŸáÿßŸÖ", ru:"–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏", uk:"–æ–±–æ–≤‚Äô—è–∑–∫–∏", fa:"Ÿàÿ∏ÿß€åŸÅ", fr:"t√¢ches", en:"tasks / duties"},
  {key:"kenntnisse", de:"Kenntnisse", info:"EDV, F√ºhrerschein ‚Ä¶", tr:"beceriler", ar:"ÿßŸÑŸÖŸáÿßÿ±ÿßÿ™", ru:"–Ω–∞–≤—ã–∫–∏", uk:"–Ω–∞–≤–∏—á–∫–∏", fa:"ŸÖŸáÿßÿ±ÿ™‚ÄåŸáÿß", fr:"comp√©tences", en:"skills"},
  {key:"edv", de:"EDV", info:"Computer: Word, PowerPoint ‚Ä¶", tr:"bilgisayar", ar:"ŸÖŸáÿßÿ±ÿßÿ™ ÿßŸÑÿ≠ÿßÿ≥Ÿàÿ®", ru:"–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –Ω–∞–≤—ã–∫–∏", uk:"–∫–æ–º–ø‚Äô—é—Ç–µ—Ä–Ω—ñ –Ω–∞–≤–∏—á–∫–∏", fa:"ŸÖŸáÿßÿ±ÿ™‚ÄåŸáÿß€å ⁄©ÿßŸÖŸæ€åŸàÿ™ÿ±€å", fr:"informatique (comp√©tences)", en:"IT / computer skills"},
  {key:"faehigkeiten", de:"F√§higkeiten", info:"teamf√§hig, p√ºnktlich ‚Ä¶", tr:"yetenekler", ar:"ÿßŸÑŸÇÿØÿ±ÿßÿ™", ru:"—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏", uk:"–∑–¥—ñ–±–Ω–æ—Å—Ç—ñ", fa:"ÿ™ŸàÿßŸÜÿß€å€å‚ÄåŸáÿß", fr:"aptitudes", en:"abilities"},
  {key:"hobbys", de:"Hobbys", info:"Fu√üball, Zeichnen, Musik ‚Ä¶", tr:"hobiler", ar:"ÿßŸÑŸáŸàÿßŸäÿßÿ™", ru:"—Ö–æ–±–±–∏", uk:"—Ö–æ–±—ñ", fa:"ÿ≥ÿ±⁄Øÿ±ŸÖ€å‚ÄåŸáÿß", fr:"loisirs", en:"hobbies"},
  {key:"interessen", de:"Interessen", info:"Technik, Soziales ‚Ä¶", tr:"ilgi alanlarƒ±", ar:"ÿßŸÑÿßŸáÿ™ŸÖÿßŸÖÿßÿ™", ru:"–∏–Ω—Ç–µ—Ä–µ—Å—ã", uk:"—ñ–Ω—Ç–µ—Ä–µ—Å–∏", fa:"ÿπŸÑÿß€åŸÇ", fr:"centres d‚Äôint√©r√™t", en:"interests"},
  {key:"ort", de:"Ort", info:"z. B. Berlin", tr:"≈üehir", ar:"ÿßŸÑŸÖÿØŸäŸÜÿ©", ru:"–≥–æ—Ä–æ–¥", uk:"–º—ñ—Å—Ç–æ", fa:"ÿ¥Ÿáÿ±", fr:"ville", en:"city"},
  {key:"datum", de:"Datum", info:"z. B. 09.09.2025", tr:"tarih", ar:"ÿßŸÑÿ™ÿßÿ±ŸäÿÆ", ru:"–¥–∞—Ç–∞", uk:"–¥–∞—Ç–∞", fa:"ÿ™ÿßÿ±€åÿÆ", fr:"date", en:"date"},
  {key:"unterschrift", de:"Unterschrift", info:"dein Name in Schreibschrift", tr:"imza", ar:"ÿßŸÑÿ™ŸàŸÇŸäÿπ", ru:"–ø–æ–¥–ø–∏—Å—å", uk:"–ø—ñ–¥–ø–∏—Å", fa:"ÿßŸÖÿ∂ÿß", fr:"signature", en:"signature"}
];

// LocalStorage-Keys
const LS = { ok:"cvvoc_ok", bad:"cvvoc_bad", streak:"cvvoc_streak", idxLearn:"cvvoc_idxLearn", idxTest:"cvvoc_idxTest", langs:"cvvoc_langs" };

// Helpers
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));
function save(k,v){ try{localStorage.setItem(k,JSON.stringify(v));}catch(e){} }
function load(k,d){ try{const v=JSON.parse(localStorage.getItem(k)); return v??d;}catch(e){return d;} }
function toMissingVowels(word){
  const map = {'a':'¬∑','e':'¬∑','i':'¬∑','o':'¬∑','u':'¬∑','√§':'¬∑','√∂':'¬∑','√º':'¬∑','A':'¬∑','E':'¬∑','I':'¬∑','O':'¬∑','U':'¬∑','√Ñ':'¬∑','√ñ':'¬∑','√ú':'¬∑'};
  return word.split('').map(c => map[c] ? map[c] : c).join('');
}
function normalize(s){
  return s.trim().replace(/ae/gi,'√§').replace(/oe/gi,'√∂').replace(/ue/gi,'√º').replace(/\s+/g,' ').toLowerCase();
}

// Sprachauswahl
const ALL_LANGS = ["tr","ar","ru","uk","fa","fr","en"];
let ACTIVE_LANGS = load(LS.langs, ALL_LANGS.slice());
$("#langBox").addEventListener("change", ()=>{
  ACTIVE_LANGS = $$("#langBox input:checked").map(x=>x.dataset.lang);
  save(LS.langs, ACTIVE_LANGS);
  renderLearn();
  renderAllList();
  renderTest();
});
// Restore checkboxes
$$("#langBox input").forEach(cb=>{ cb.checked = ACTIVE_LANGS.includes(cb.dataset.lang); });

// Tabs
const panels = {learn:$("#panel-learn"), test:$("#panel-test"), phrases:$("#panel-phrases")};
$$(".tab").forEach(btn=>{
  btn.addEventListener("click",()=>{
    $$(".tab").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    const t = btn.dataset.tab;
    Object.entries(panels).forEach(([k,el])=>{ el.hidden = (k!==t); });
    if(t==="test") setTimeout(()=>$("#answer").focus(), 50);
  });
});

// Lernen
let idxLearn = load(LS.idxLearn, 0) % WORDS.length;
function translationsHTML(w){
  const langOrder = ACTIVE_LANGS;
  if(!langOrder.length) return '<div class="hint">√úbersetzungen sind ausgeblendet.</div>';
  const parts = langOrder.map(code=>{
    const val = w[code] || "‚Äî";
    const label = {tr:"TR", ar:"AR", ru:"RU", uk:"UK", fa:"FA", fr:"FR", en:"EN"}[code] || code.toUpperCase();
    const rtl = (code==="ar"||code==="fa") ? ' class="rtl"' : '';
    return `<div${rtl}><b>${label}:</b> ${val}</div>`;
  });
  return parts.join("");
}
function renderLearn(){
  const w = WORDS[idxLearn];
  $("#learnWord").textContent = w.de;
  $("#learnInfo").textContent = w.info || "";
  $("#learnTrans").innerHTML = translationsHTML(w);
}
function renderAllList(){
  const cont = $("#allList");
  cont.innerHTML = "";
  WORDS.forEach(w=>{
    const div = document.createElement("div");
    div.className="item";
    div.innerHTML = `<b>${w.de}</b>
      <div class="hint">${w.info||""}</div>
      <div style="margin-top:6px">${translationsHTML(w)}</div>`;
    cont.appendChild(div);
  });
}
$("#prevL").addEventListener("click",()=>{ idxLearn=(idxLearn-1+WORDS.length)%WORDS.length; save(LS.idxLearn,idxLearn); renderLearn(); });
$("#nextL").addEventListener("click",()=>{ idxLearn=(idxLearn+1)%WORDS.length; save(LS.idxLearn,idxLearn); renderLearn(); });

// Testen
let idxTest = load(LS.idxTest, 0) % WORDS.length;
let okCnt = load(LS.ok, 0);
let badCnt = load(LS.bad, 0);
let streak = load(LS.streak, 0);
const q = () => WORDS[idxTest];

function renderTest(){
  const w = q();
  const missing = $("#missingVowels").checked;
  $("#testQuestion").textContent = missing ? toMissingVowels(w.de) : (w.info || "Schreibe das Wort");
  $("#okCnt").textContent = okCnt; $("#badCnt").textContent = badCnt; $("#streak").textContent = streak;
  $("#feedback").textContent = "";
  $("#answer").value = "";
  // √úbersetzungen (als Hilfe) anzeigen
  $("#testTrans").innerHTML = translationsHTML(w);
  setTimeout(()=>$("#answer").focus(), 50);
}
$("#missingVowels").addEventListener("change", renderTest);

$("#check").addEventListener("click",()=>{
  const user = normalize($("#answer").value);
  const correct = normalize(q().de);
  if(!user){ $("#feedback").textContent="Bitte etwas eingeben üòä"; return; }
  if(user === correct){
    okCnt++; streak++; save(LS.ok,okCnt); save(LS.streak,streak);
    $("#feedback").innerHTML = `‚úÖ Richtig: <b>${q().de}</b>`;
  }else{
    badCnt++; streak=0; save(LS.bad,badCnt); save(LS.streak,streak);
    $("#feedback").innerHTML = `‚ùå Leider falsch. Richtig ist: <b>${q().de}</b>`;
  }
});
$("#nextT").addEventListener("click",()=>{ idxTest=(idxTest+1)%WORDS.length; save(LS.idxTest,idxTest); renderTest(); });
$("#skip").addEventListener("click",()=>{ $("#nextT").click(); });
$("#tip").addEventListener("click",()=>{
  const w = q().de;
  const tip = w.length>2 ? (w[0]+"‚Ä¶"+w[w.length-1]) : w;
  $("#feedback").textContent = "Tipp: " + tip;
});
$("#resetProgress").addEventListener("click",()=>{
  okCnt=0; badCnt=0; streak=0; save(LS.ok,okCnt); save(LS.bad,badCnt); save(LS.streak,streak);
  $("#feedback").textContent="Fortschritt zur√ºckgesetzt.";
  renderTest();
});

// Init
function init(){ renderLearn(); renderAllList(); renderTest(); }
if(document.readyState==="loading"){ document.addEventListener("DOMContentLoaded", init); } else { init(); }
</script>
</body>
</html>
